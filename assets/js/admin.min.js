!function(e){"use strict";var t=e("#rpt_manage_plans"),a=e("#template-responsive-pricing-table-package").html(),n=function(){e(document).find(".rpt-package").each(function(t){var a=e(this),n=a.find(".tab-rpt-features").find(".rpt-feature");a.find(".on-sale").attr("name","responsive_pricing_table[sale]["+t+"]"),n.each(function(a){var n=e(this);n.find(".feature_text").attr("name","responsive_pricing_table[feature_text]["+t+"]["+a+"]"),n.find(".feature_icon").attr("name","responsive_pricing_table[feature_icon]["+t+"]["+a+"]"),n.find(".feature_icon_color").attr("name","responsive_pricing_table[feature_icon_color]["+t+"]["+a+"]")}),a.find(".show_ribbon").attr("name","responsive_pricing_table[show_ribbon]["+t+"]")})};e(document).on("click","#addNewPackage",function(){t.append(a),n();var i=t.find(".rpt-package").last();i.accordion({collapsible:!0,heightStyle:"content",active:!1}),i.find(".rpt-feature").each(function(){var t=e(this);"closed"===t.attr("data-id")?t.accordion({collapsible:!0,heightStyle:"content",active:!1}):t.accordion({collapsible:!0,heightStyle:"content"})}),i.find(".shapla-tabs").each(function(){e(this).tabs({hide:{effect:"fadeOut",duration:200},show:{effect:"fadeIn",duration:200}})}),i.find(".color-picker").each(function(){e(this).wpColorPicker()})}),e(document).on("click",".deletePackage",function(a){a.preventDefault();if(1!==t.find(".rpt-package").length){if(confirm("Are you sure to delete this package?")){var i=e(this).closest(".rpt-package");i.slideUp("slow",function(){i.remove(),n()})}}else alert("You cannot delete all package.")}),e(document).on("click",".addPackageFeature",function(t){t.preventDefault();var a=e(this).parent().find(".rpt-feature-wrap"),i=a.find(".rpt-feature").first().clone(!0);a.append(i),n()}),e(document).on("click",".deleteFeature",function(t){t.preventDefault();var a=e(this),i=a.closest(".rpt-feature");1!==a.closest(".rpt-feature-wrap").find(".rpt-feature").length?confirm("Are you sure to delete this package?")&&i.slideUp("slow",function(){i.remove(),n()}):alert("You cannot delete all features for this package.")}),e(document).ready(n),t.sortable({stop:function(){n()}}),e(document).find(".shapla-toggle").each(function(){var t=e(this);"closed"===t.attr("data-id")?t.accordion({collapsible:!0,heightStyle:"content",active:!1}):t.accordion({collapsible:!0,heightStyle:"content"})}),e(document).find(".shapla-tabs").each(function(){e(this).tabs({hide:{effect:"fadeOut",duration:200},show:{effect:"fadeIn",duration:200}})}),e(document).find(".color-picker").each(function(){e(this).wpColorPicker()})}(jQuery);